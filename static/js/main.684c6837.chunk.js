(this["webpackJsonpsmart-iframe-wrapper"]=this["webpackJsonpsmart-iframe-wrapper"]||[]).push([[0],{12:function(e,t,n){e.exports=n(22)},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var i,o,r,s,c,a,u,l,h=n(0),d=n.n(h),f=n(6),g=n.n(f),m=n(7),p=n.n(m),v=n(1),w=n(2),y=n(10),b=n(8),k=n(11),W=n(9),H=(n(21),function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(y.a)(this,Object(b.a)(t).call(this,e))).bridge=null,n.watchdogTimeout=null,n.state={key:(new Date).getTime()},n}return Object(k.a)(t,e),Object(w.a)(t,[{key:"invoke",value:function(e){if(null===this.bridge)return Promise.reject("Iframe not ready");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.bridge.invoke(e,[].concat(n))}},{key:"componentDidMount",value:function(){var e=this;this.bridge=new W.a(this.iframe.contentWindow),this.bridge.exposeFunction("onReady",(function(t){return console.log("onReady",{response:t}),e.invoke("play"),!0})),this.bridge.exposeFunction("onPlay",(function(e){return console.log("onPlay",{response:e}),!0})),this.bridge.exposeFunction("onError",(function(e){return console.log("onError",{error:e}),!0})),this.bridge.exposeFunction("onDone",(function(t){return console.log("onDone",{response:t}),e.setState({key:(new Date).getTime()}),!0})),this.props.watchdog&&this._watchdog()}},{key:"componentWillUnmount",value:function(){this.bridge.close(),this.iframe=null,this.bridge=null,clearTimeout(this.watchdogTimeout)}},{key:"_watchdog",value:function(){var e=this;this.watchdogTimeout=setTimeout((function(){var t=new Promise((function(e,t){return setTimeout(t,1e3)}));Promise.race([e.invoke("ping"),t]).then((function(){return e._watchdog()})).catch((function(e){return console.log("onError",{error:e})}))}),3e4)}},{key:"render",value:function(){var e=this,t=this.state.key;return d.a.createElement("iframe",{ref:function(t){e.iframe=t},src:this.props.src,title:this.props.src,key:t})}}]),t}(d.a.Component)),j=function(){function e(t,n){Object(v.a)(this,e),this._screenWidth=t,this._screenHeight=n}return Object(w.a)(e,[{key:"screenWidth",get:function(){return this._screenWidth}},{key:"screenHeight",get:function(){return this._screenHeight}},{key:"isVertical",get:function(){return this.screenWidth<this.screenHeight}},{key:"screenRatio",get:function(){return this.screenWidth/this.screenHeight}},{key:"uiWidth",get:function(){return this.isVertical?1080:1920}},{key:"uiHeight",get:function(){return this.isVertical?1920:1080}},{key:"uiRatio",get:function(){return this.uiWidth/this.uiHeight}}]),e}(),E=function(){var e=window.fittoscreen||!1,t=window.innerWidth,n=window.innerHeight,i=new j(t,n),o=1;i.isVertical?document.body.classList.add("vertical"):document.body.classList.remove("vertical"),o=i.screenRatio>=i.uiRatio?i.screenHeight/i.uiHeight:i.screenWidth/i.uiWidth;var r=e?i.screenWidth/i.uiWidth:o,s=e?i.screenHeight/i.uiHeight:o,c=document.body;c.style["-ms-zoom"]=r<s?r:s;var a=Math.floor((i.screenWidth-r*i.uiWidth)/2),u=Math.floor((i.screenHeight-s*i.uiHeight)/2),l="scale("+r+","+s+")";(a>0||u>0)&&(l="translateX("+a+"px) translateY("+u+"px) "+l),c.style["-moz-transform"]=l,c.style["-o-transform"]=l,c.style["-webkit-transform"]=l,c.style.transform=l,c.style["transform-origin"]="left top"},O=function(e){var t=e.url;return Object(h.useEffect)((function(){E(),window.onresize=E})),d.a.createElement(H,{src:t})},T=null===(i=p.a.parse(null===(o=window)||void 0===o||null===(r=o.location)||void 0===r||null===(s=r.search)||void 0===s?void 0:s.slice(1)))||void 0===i?void 0:i.url,x=(null===(c=window)||void 0===c||null===(a=c.location)||void 0===a||null===(u=a.pathname)||void 0===u?void 0:u.slice(1))?window.location.pathname.slice(1):null;console.log(T,x,"http://localhost:3000"),g.a.render(d.a.createElement(O,{url:null!==(l=null!==T&&void 0!==T?T:x)&&void 0!==l?l:"http://localhost:3000"}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.684c6837.chunk.js.map